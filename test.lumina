Input -> VertexPass : Vector2 modelPosition;
FragmentPass -> Output : Color outputColor;

DataBlock cameraUBO as constant
{
	Matrix4x4 viewMatrix;
	Matrix4x4 projectionMatrix;
};

DataBlock modelData as attribute
{
	Matrix3x3 modelMatrix;
	int layer;
	Color color;
};

VertexPass()
{
	Vector3 localPos = Vector3(modelPosition, 0);
	Vector3 worldPos = modelData.modelMatrix * localPos;
	worldPos.z = modelData.layer;

	Vector4 viewPos = cameraUBO.viewMatrix * Vector4(worldPos, 1.0f);
	Vector4 clipPos = cameraUBO.projectionMatrix * viewPos;

	pixelPosition = clipPos;
}

FragmentPass()
{
	outputColor = modelData.color;
}